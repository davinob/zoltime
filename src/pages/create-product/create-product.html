<!--
  Generated template for the CreateProductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>יצירת מוצר חדש</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="global" >

    
    <form [formGroup]="addProductForm" (submit)="addProduct()">
      <input type="file" accept="image/*" #fileInput style="visibility: hidden; height: 0px" name="files[]" (change)="processWebImage($event)" />
     

      <div class="profile-image-wrapper" (click)="choosePictureType()">
        <div class="profile-image-placeholder" *ngIf="!addProductForm.controls.picture.value">
          <ion-icon class="basic" name="add-circle"></ion-icon>
          <div class="whiteBig">
            בחירת תמונה
         </div>
       </div>
        <div class="picPic" *ngIf="addProductForm.controls.picture.value" [style.backgroundImage]="getProfileImageStyle()">
        </div>


      </div>
    
    
    <ion-item>
        
      <ion-label stacked>שם</ion-label>
      <ion-input formControlName="name"  type="text"  placeholder="שם"></ion-input>
    </ion-item>


    
       
    <div class="input-wrapper">
       <ion-item (click)="showCategoriesChoiceSelect()">
         
            <div class="categoriesInputLabel" stacked>סוג</div>
          <div class="categoriesInput">{{addProductForm.value.category}}</div>
        </ion-item>
         </div>
       

         <ion-item [hidden]="true">
            <ion-select formControlName="category" #categoriesInput multiple="false" >
                <ion-option *ngFor="let category of sellerService.getProductCategoriesChoices()"
                  (value)="category">{{category}}</ion-option>
               </ion-select>
        </ion-item>


      <ion-item>
        
      <ion-label stacked>תיאור כללי</ion-label>
      <ion-input formControlName="description"  type="text"  placeholder="תיאור כללי"></ion-input>
    </ion-item>

        <ion-item>
        <ion-label stacked>מחיר (₪)</ion-label>
        <ion-input formControlName="originalPrice"  type="number"  placeholder="מחיר"></ion-input>
      </ion-item>
        
    
    <button ion-button block [disabled]="!addProductForm.valid" type="submit">
         יצירת המוצר 
                </button>
      
      
      
   

      </form>

      <ion-select  #selectPictureType [hidden]="true" (ionChange)="getPicture($event)" interface="action-sheet">
          <ion-option value="גלריה">גלריה</ion-option>
          <ion-option value="מצלמה">מצלמה</ion-option>
        </ion-select>

</ion-content>

